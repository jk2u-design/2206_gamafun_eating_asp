<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>後台邀請碼明細－橘子嘉年華</title>

    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/admin.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
    <header>
        <a id="hdlogo" href="javascript:;"><img src="../images/logo.svg"></a>
        <div class="nav">
            <a class="nav_item active" href="tracking.html">數據追蹤</a>
            <a class="nav_item " href="log_history.html">log紀錄</a>
            <a class="nav_item logout" href="" id="Logout">登出</a>
        </div>
    </header>
    <div class="wrapper1">
        <div class="container w1100">
            <h1>邀請碼明細</h1>
            <table class="table" id="tbl_result">
                <thead>
                    <tr>
                        <th>編號</th>
                        <th>單位</th>
                        <th>邀請碼</th>
                        <th>輸入次數</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
</body>


</html>
<script src="./datatables/datatables.min.js"></script>
<script src="./js/api.js"></script>
<script>
    $(document).ready(function () {
        CheckLogin();
        $("#tbl_result").DataTable({
            searching: false,
            paging: false,
            ordering: false,
            info: false,
            autoWidth: false,
            oLanguage: {
                "sZeroRecords": "沒有找到符合條件的資料",
                "sProcessing": "載入中...",
            },
            iDisplayLength: 200,// 每頁顯示筆數
            columns: [
                { data: 'rowid', width: '50px' },
                { data: 'UnitName', width: '50px' },
                { data: 'invitecode', width: '50px' },
                { data: 'usedtimes', width: '100px' }
            ]
        });
        apt.api.getInviteLog({}, function (rs) {
            if (rs) {
                $("#tbl_result").DataTable().clear();
                $("#tbl_result").DataTable().rows.add(JSON.parse(rs.datas));
                $("#tbl_result").DataTable().draw();
            }
        })
    });
</script>